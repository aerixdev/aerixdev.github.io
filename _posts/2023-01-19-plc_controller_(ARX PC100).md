---
title: 피엘씨컨트롤러 (ARX.PC100)
subtitle: ARX.PC100 제품 소개
layout: post
author: 김영규 , 송기영
---

## 소개
---
안녕하세요~ 저희는 수집 시스템 과 웹 서비스 Back-End 를 맡아 개발을 진행한 김영규, 웹 서비스 Front-End 를 맡아 개발을 진행한 송기영 입니다.
이번에 '피엘씨컨트롤러' 라는 이름의 소프트웨어를 개발하고 GS 인증 시험을 마치게 되었습니다. GS 인증은 1등급 획득에 성공을 하였습니다.

저희가 어떤 제품을 개발했는지 소개를 해드리고자 합니다.

간략하게 먼저 소개해드리면 피엘씨컨트롤러는 미들웨어 성격의 소프트웨어 이며, PLC와 통신하여 데이터를 일정 주기마다 수집하여 수집 서버로 MQTT 프로토콜을 사용하여 전달해주는 역할을하고 있습니다.
'csv' 형식의 파일을 포맷에 맡게 작성하여 등록을 하면 작성한 내용에 따라서 PLC 와 통신을 하여 메모리 주소의 데이터를 수집하게 됩니다. 그리고, 수집만 하는 것이 아니라 MQTT 프로토콜 메시지를 통해서
PLC 메모리 주소에 데이터를 작성하여 데이터를 변경시킵니다. 물론, PLC 내부 프로그램 혹은 모듈에 따라서 작성할 수 없는 메모리 주소가 존재합니다.
웹 서비스도 지원하여 사용자가 편리하게 웹으로 시스템을 편리하게 사용할 수 있도록 구현하였습니다.


아래에 제품소개서 형식으로 작성된 내용입니다.

---



# 피엘씨컨트롤러(ARX.PC100)

(주)에어릭스는 피엘씨컨트롤러(ARX.PC100)를 공급합니다.

# 제품 개요

PLC와 서버 어플리케이션 사이에서 통신을 중계하는 기능이 구현되어 있는 미들웨어 성격의 소프트웨어인 PLC 컨트롤러(에어릭스 자체개발 소프트웨어)를 산업용PC에 탑재하여 디바이스형으로 개발한 제품입니다. 스마트팩토리 시스템 구축 시 현장에 설치되어 있는 PLC의 데이터를 읽고(데이터 수집) 쓰기(제어 명령 전송) 위한 용도로 사용됩니다.

특정 PLC에 종속되지 않고 다양한 종류의 PLC 인터페이스를 지원하고 있으며, 사용자의 선택에 따라 고객사에서 개발한 PLC 인터페이스 혹은 (주)에어릭스에 요청한 PLC 인터페이스 추가가 가능합니다.

사용자의 편의성을 위해서 관리자 웹 페이지를 한 시스템 설정 및 디바이스 상태 모니터링을 제공하며 반응형 웹을 통해 모바일, 태블릿, PC를 지원합니다.

# 제품 및 공급자 정보

| 제품 명 | ARX.PC100 |
| --- | --- |
| 소프트웨어 | 피엘씨컨트롤러 |
| 소프트웨어 버전 | v1.0 |
| 소프트웨어 구성 요소 | - 피엘씨브로커 (수집 서비스) |
|  | - 관리자 웹 (웹 서비스) |
| 하드웨어 | 산업용 PC 장비 (YOI-S991) |
| 제조 및 공급업체 | ㈜에어릭스 |
| 제조 및 공급업체 주소 | 경상북도 포항시 남구 대송면 철강산단로66번길 10 |
|  | Web: https://www.aerix.co.kr/ |
|  | Tel. 1899-3877 |

# 제품 사양

본 제품의 하드웨어 사양은 다음과 같으며, 소프트웨어의 경우 권장 사양입니다.

- 하드웨어

    | 항목   | 사양 |
    | --- | --- |
    | CPU   | Intel i5-6200U |
    | RAM   | 8GB |
    | HDD   | 128GB |
    | etc   | LAN Port (2 ea) |
    |    | USB 3.0 Port (4 ea) |
    |    | USB 2.0 Port (4 ea) |
    |   &nbsp;&nbsp;&nbsp;&nbsp; | COM Port (6 ea) |

- 소프트웨어

    | 항목 | 사양 |
    | --- | --- |
    | OS | Ubuntu 20.04 LTS |
    | Web Service | nginx v1.22.1 |
    |  | ASP.NET Core v5.0 runtime |
    | Collect System | .NET Core v5.0 runtime |
    | Docker | docker v20.10.12 , docker-compose v1.25.0 |
    | VPN | Wireguard-Tools v1.0 |
    

# 기대 효과

피엘씨브로커를 사용함으로써 얻을 수 있는 기대 효과는 다음과 같습니다.
- 다양한 PLC 지원
    - 국제 표준 통신 프로토콜 Modbus 통신 지원
    - PLC 기존 제공 인터페이스 및 개발 인터페이스 추가 기능으로 다양한 PLC 지원
- 개발 생산성 및 운영 효율성 향상
    - 웹 서비스 지원을 통한 사용자의 유지보수 용이
    - 재사용 인터페이스를 통한 커스텀 PLC 인터페이스 추가 기능으로 개발 시간 단축 효과
- 비용 절감 효과
    - 최소의 개발 인력과 IT 자원 투입으로 기업 비용 부담 완화
    - 구간 암호화 통신 솔루션 도입에 따른 추가 비용 절감

# 제품 시스템 / 서비스 구성

<img src="/img/posts/2023-01-19/system_architecture.png" alt="[피엘씨컨트롤러 시스템 구성]" width="80%">

[피엘씨컨트롤러 시스템 구성]

피엘씨컨트롤러가 구성하고 있는 시스템 요소는 다음과 같습니다. 

- 상태 모니터링
    1. 하드웨어 상태 정보
        - CPU , RAM , DISK 상태 정보
    2. 네트워크 상태 정보
        - 네트워크 설정 정보
    3. PLC 구성 정보
        - 수집 PLC 설정 항목 정보 및 연결 상태
    4. MQTT 서버 / 클라이언트 설정 정보
        - 접속 Port 정보 / 익명 접속 / 인증서
    5. VPN 설정 정보
        - 활성화 상태 / VPN 서버 설정 정보 / 설정 공개키 정보
    6. 제품 정보
        - 제품 / 소프트웨어 버전 정보
- 데이터 수집
    - 수집 시스템 (Collect System)
        - PLC → 수집 시스템 : PLC 구성 설정 메모리 데이터 조회 (수집)
        - 수집 시스템 → PLC : PLC 구성 설정 메모리 데이터 작성 (제어)
- 데이터 전송
    - 수집 시스템 (Collect System)
        - 수집 데이터 MQTT 프로토콜 메시지 전달 (전송)
    - MQTT 서버 (MQTT Broker)
        - 수집 데이터 발행/구독 (Pub/Sub)
    - 수집 서버 (Collect Server)
        - 데이터 적재 (Store)


```
💡 참고
    - 웹 서비스 = 상태 모니터링 시스템 → 상태 모니터링 + 설정
    - 수집 서비스 = 수집 시스템 → 데이터 수집 + 데이터 전송
```


# 제품 서비스 아키텍처

<img src="/img/posts/2023-01-19/service_architecture.png" alt="[피엘씨컨트롤러 서비스 아키텍처]" width="80%">

[피엘씨컨트롤러 서비스 아키텍처]

피엘씨컨트롤러가 제공하는 서비스 구성은 다음과 같습니다.

- 서비스 구성 및 동작
    - Web Service
        - 피엘씨컨트롤러 설정 기능 웹 서비스 지원
        - NGINX , ASP.NET
    - PLC Data Collect Service
        - PLC 통신 , 메모리 데이터 수집 / 작성 (제어)
        - .NET
    - Data Store / Back-up Service
        - 데이터 전송 실패 시 수집 데이터 백업
        - 웹 서비스 계정 관리
        - Maria DB
    - Data Send Service
        - 수집 데이터 전송 및 연결 (중계)
        - Mosquitto
    - VPN Connect Service
        - 원격지 수집 서버 및 클라이언트 구간 통신 암호화
        - Wireguard

# 주요 기능

피엘씨컨트롤러가 제공하는 서비스의 주요 기능들은 다음과 같습니다. 

1. 데이터 관리
    - 데이터 수집
        - 구성 항목의 PLC 메모리 데이터 수집 기능
    - 데이터 전송
        - 수집 서버로 수집 데이터 메시지 전송 기능
        - 구성 항목의 PLC 메모리 데이터 작성 전송 기능
    - 데이터 백업
        - 연결 실패 , 전송 실패에 해당하는 수집 데이터 저장 기능
        - 재 연결 성공 시 백업 데이터 재전송 기능
2. PLC 관리
    - PLC 설정
        - 데이터 수집을 위한 연결 PLC 구성 정보 등록/조회/수정/삭제 기능
    - 프로토콜 설정
        - 사용 가능한 PLC 통신 프로토콜 조회 , PLC 통신 프로토콜 추가 / 삭제 기능
        - 다양한 PLC 구성 확장성
3. 시스템 설정
    - 제어 서버 설정
        - 네트워크 설정 정보 (IP 주소, 게이트웨이 등) 조회 / 설정 기능
    - MQTT 설정
        - 내부 MQTT 서버 설정 정보 (포트 번호 , 계정 정보 , 인증 정보 등) 조회 / 설정 기능 , MQTT 접속을 위한 (계정 정보 , 인증 정보 , IP/Port 정보 , Topic 등) 조회 / 설정 기능
    - VPN 설정
        - 암호화 통신을 위한 VPN 활성화 , 서버/클라이언트 IP 등을 조회 / 설정 기능
4. 대시보드 조회
    - 제품 현황 조회
        - 제품 디바이스 현재 상태 (CPU , 메모리 , 디스크)  조회 기능
    - PLC 현황 조회
        - 현재 구성된 PLC 연결 상태 , 제조사 , 수집 주기 , 통신 프로토콜 , IP 주소 등의 정보 조회 기능
    - 설정 조회
        - 제품에 설정되어 있는 네트워크 , MQTT 등 정보 조회 기능
5. 접근 관리
    - 로그인 / 로그아웃
        - 웹 서비스 접근 관리를 위한 계정 로그인 / 로그아웃 기능

# 웹 서비스 화면 구성

피엘씨컨트롤러가 제공하는 주요 기능들을 사용할 수 있는 웹 서비스 페이지는 다음과 같이 구성이 되어있습니다. 각 페이지 별 수행 가능한 기능은 다음과 같습니다.

- 로그인
    
    웹 서비스 접근 관리(비인가 사용자 접근 방지)를 위한 계정 로그인 페이지 입니다. 기본적으로 제공되는 관리자 아이디 및 비밀번호를 이용하여 최초 로그인 후 아이디 및 비밀번호를 변경할 수 있습니다.
    
    <img src="/img/posts/2023-01-19/login_page.png" alt="[관리자 웹 - 로그인 페이지]" width="100%">
    
    [관리자 웹 - 로그인 페이지]
    
- 대시보드
    
    제품 디바이스 현재 상태 정보 및 시스템 설정 정보를 조회할 수 있는 페이지 입니다. 10초마다 갱신하여 실시간으로 정보를 보여줍니다. [전체 조회]
    
    <img src="/img/posts/2023-01-19/dashboard_page.png" alt="[관리자 웹 - 대시보드 페이지]" width="100%">
    
    [관리자 웹 - 대시보드 페이지]
    
- PLC
    
    데이터를 수집하려는 PLC 구성 정보를 확인할 수 있으며, 파일 업로드를 통해서 PLC 수집 메모리 주소를 설정할 수 있는 페이지 입니다. [수집 데이터 설정]
    
    <img src="/img/posts/2023-01-19/plc_page.png" alt="[관리자 웹 - PLC 페이지]" width="100%">
    
    [관리자 웹 - PLC 페이지]
    
- 프로토콜
    
    사용 가능한 프로토콜 목록을 조회할 수 있으며, 개발한 프로토콜을 등록(추가)하여 사용할 수 있는 페이지 입니다. 제조사가 ‘COMMON’ 인 경우 범용적으로 사용하는 프로토콜임을 나타냅니다. 
    
    <img src="/img/posts/2023-01-19/protocol_page.png" alt="[관리자 웹 - 프로토콜 페이지]" width="100%">
    
    [관리자 웹 - 프로토콜 페이지]
    
- 설정
    
    제품 디바이스 **연결**을 위한 네트워크 , 수집한 데이터를 **전송**하기 위한 MQTT 클라이언트 , ‘수집 데이터/요청 메시지’ 를 **수신**하기 위한 MQTT 서버 의 정보를 조회하거나 설정할 수 있는 페이지 입니다. 
    
    <img src="/img/posts/2023-01-19/setting_page.png" alt="[관리자 웹 - 설정 페이지]" width="100%">
    
    [관리자 웹 - 설정 페이지]
    
- 보안
    
    전송되는 수집 데이터의 보안을 위한 암호화 통신 정보들을 조회하거나 설정할 수 있는 페이지 입니다. 설정 내용은 클라이언트 자격으로 설정한 정보의 VPN 서버에 연결하게 됩니다. 
    
    <img src="/img/posts/2023-01-19/security_page.png" alt="[관리자 웹 - 보안 페이지]" width="100%">
    
    [관리자 웹 - 보안 페이지]
    

# 수집 시스템 동작 구성

- 데이터 수집 및 전송
    - ‘디바이스 상태 , PLC 메모리 데이터’ 의 수집 정보를 수집 서버에 전송합니다.
        
        <img src="/img/posts/2023-01-19/data_collect.png" alt="[테스트 프로그램으로 확인한 수집 데이터 확인]" width="100%">
        
        [테스트 프로그램으로 확인한 수집 데이터 확인]
        
- 특정 PLC 메모리 데이터 조회
    - 설정한 PLC 의 특정 태그의 데이터를 조회한다.
        
        <img src="/img/posts/2023-01-19/data_read_request_1.png" alt="[테스트 프로그램으로 요청한 특정 메모리 데이터 확인]" width="100%">
        
        [테스트 프로그램으로 요청한 특정 메모리 데이터 확인]
        

- 특정 PLC 메모리 데이터 작성
    - 설정한 PLC 의 특정 태그의 데이터를 작성한다.
        
        
        1. 특정 태그의 메모리 데이터 변경
            
            <img src="/img/posts/2023-01-19/data_write_request.png" alt="[테스트 프로그램으로 요청한 특정 메모리 데이터 작성]" width="90%">
            
            [테스트 프로그램으로 요청한 특정 메모리 데이터 작성]
            
        
        1. 특정 태그의 메모리 데이터 변경 확인
            
            <img src="/img/posts/2023-01-19/data_read_request_2.png" alt="[테스트 프로그램으로 요청한 특정 메모리 데이터 확인]" width="90%">
            
            [테스트 프로그램으로 요청한 특정 메모리 데이터 확인]
            
            <img src="/img/posts/2023-01-19/plc_program_monitor.png" alt="[PLC 툴 프로그램으로 확인한 메모리 데이터 확인]" width="90%">
            
            [PLC 툴 프로그램으로 확인한 메모리 데이터 확인]
            

- 전송 실패 데이터 저장 ( 데이터 백업 )
    - 수집 서버에 연결 실패 혹은 다른 사유에 의한 전송 실패 시 해당 데이터가 누락되지 않게 저장을 하여 재 전송을 할 수 있도록 데이터를 백업합니다.
        
        <img src="/img/posts/2023-01-19/back_up_db.png" alt="[저장된 수집 데이터 확인]" width="100%">
        
        [저장된 수집 데이터 확인]
        

# 소프트웨어 품질 인증

<div class="pull-left">
    <img src="/img/posts/2023-01-19/gs_certificate_korean.png" alt="[GS 인증서 - 한글]" width="80%">
</div>
<div class="pull-right">
    <img src="/img/posts/2023-01-19/gs_certificate_english.jpg" alt="[GS 인증서 - 영문]" width="80%">
</div>

(GS 인증) - 자체 개발 ‘피엘씨컨트롤러’로 소프트웨어 품질 인증 GS 인증 획득 [한국정보통신기술협회 - 23.01.16]

# 제품 납품 목록

- 제품
    - ARX.PC100 [하드웨어 : 산업용 PC , 소프트웨어 : 피엘씨컨트롤러]
        
        
        <img src="/img/posts/2023-01-19/plc_controller_front.png" alt="[ARX.PC100 제품 이미지 - 앞면]" width="80%">
        
        [ARX.PC100 제품 이미지 - 앞면]
        
        <img src="/img/posts/2023-01-19/plc_controller_back.png" alt="[ARX.PC100 제품 이미지 - 뒷면]" width="80%">
        
        [ARX.PC100 제품 이미지 - 뒷면]
        
- 매뉴얼
    - 사용자 매뉴얼 [관리자 웹 동작 , SSH 접속 수동 동작]
    - 개발자 매뉴얼 [PLC 통신 프로토콜 개발 인터페이스 , 데이터 전송 메시지(MQTT) 형식]

# 기술 지원 사항

- AS
    - 본 규정은 AERIX에서 판매한 제품에 대하여 **유지보수** 및 **수리**를 할 경우 보증기간이 경과되었거나, 보증기간 이내라도 유상수리에 해당되는 경우 AS비용과 절차에 대한 정의입니다.
    - 참고 **링크 :** [AS 정책](https://www.notion.so/AS-bf55ef32085a46d9a181ce60c1db3ed4)

- 고객 지원
    - 계약 기간 내 제품 설치 및 사용 중 발생되는 문의에 대해서는 이메일 혹은 유선 접수 후 순차 처리됩니다.
    - 지원내용
        - 개별 기능에 대한 문의는 이메일 혹은 유선을 통해 안내해드립니다.
        - 제품 기능 결함 지원 (원격 지원 요청 시 아래의 연락처로 연락 주시기 바랍니다.)
    - 고객지원 담당부서 : (주)에어릭스 ES사업부
    - 전화 : 1899-3877
    - 이메일 : [iot@aerix.co.kr](mailto:iot@aerix.co.kr)
    - 지원시간 : 평일 오전 9시 ~ 오후 5시 (공휴일 제외)



# 마치며 ..

이제 막 GS 인증을 끝냈기 때문에 실제 현장에서 사용할 때 개선점들이 충분히 나올 것이라고 생각합니다. 이런 점들을 꾸준히 개선하면 정말 좋은 제품이 완성되지 않을까 합니다..!
많은 관심 부탁드립니다 !

다음에는 GS 인증 후기에 대한 포스팅 글로 다시 찾아뵙겠습니다~! 감사합니다.

추가적으로 저희 제품 공식 설명서는 공식 제품 설명서 [[이동]](https://aerixes.notion.site/ec0559d109a140a5ad020d49b20868b3)를 누르시면 확인하실수 있습니다.